–í PyQt5 —Ç—ã –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å QProgressBar –≤ —Å—Ç—Ä–æ–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è (QStatusBar) —Å
–ø–æ–º–æ—â—å—é QMainWindow.statusBar().

–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
–°–æ–∑–¥–∞—Ç—å QProgressBar –∏ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ QStatusBar.
–û–±–Ω–æ–≤–ª—è—Ç—å QProgressBar –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å QThread –∏–ª–∏ QThreadPool, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ GUI.
–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

import sys
import time
from PyQt5.QtWidgets import QApplication, QMainWindow, QProgressBar, QPushButton, QStatusBar
from PyQt5.QtCore import Qt, QThread, pyqtSignal

class WorkerThread(QThread):
    progress = pyqtSignal(int)  # –°–∏–≥–Ω–∞–ª –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞

    def run(self):
        for i in range(101):
            time.sleep(0.05)  # –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
            self.progress.emit(i)  # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä

class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()

        self.setWindowTitle("–ü—Ä–æ–≥—Ä–µ—Å—Å–ë–∞—Ä –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è")
        self.setGeometry(100, 100, 400, 200)

        self.status_bar = QStatusBar()
        self.setStatusBar(self.status_bar)

        self.progress_bar = QProgressBar()
        self.progress_bar.setMaximum(100)
        self.progress_bar.setMinimum(0)
        self.progress_bar.setValue(0)
        self.progress_bar.setTextVisible(True)

        self.status_bar.addPermanentWidget(self.progress_bar)  # –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä –≤ —Å—Ç–∞—Ç—É—Å–±–∞—Ä

        self.button = QPushButton("–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å", self)
        self.button.setGeometry(100, 80, 200, 40)
        self.button.clicked.connect(self.start_process)

    def start_process(self):
        self.thread = WorkerThread()
        self.thread.progress.connect(self.progress_bar.setValue)  # –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∏–≥–Ω–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        self.thread.start()

if __name__ == "__main__":
    app = QApplication(sys.argv)
    window = MainWindow()
    window.show()
    sys.exit(app.exec_())
–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å" —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è WorkerThread.
–í–Ω—É—Ç—Ä–∏ –ø–æ—Ç–æ–∫–∞ –∏–º–∏—Ç–∏—Ä—É–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ (time.sleep(0.05)).
–ü–æ—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∏–≥–Ω–∞–ª progress.emit(i), –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç QProgressBar.
GUI –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞ –∏–¥—ë—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
–ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤ self.progress.emit(–∑–Ω–∞—á–µ–Ω–∏–µ), —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å.

–ü–æ–ø—Ä–æ–±—É–π –∏ –Ω–∞–ø–∏—à–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å! üöÄ







–í—ã —Å–∫–∞–∑–∞–ª–∏:
–∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞?
ChatGPT —Å–∫–∞–∑–∞–ª:
–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞ –Ω—É–∂–Ω–æ:

–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ (—Ñ–∞–π–ª–æ–≤, –ø–∞–ø–æ–∫, –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ç. –¥.).
–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.
–û–±–Ω–æ–≤–ª—è—Ç—å QProgressBar –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á.
–ü–æ–¥—Ö–æ–¥—ã –∫ —Ä–∞—Å—á–µ—Ç—É:
1Ô∏è‚É£ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 —Ñ–∞–π–ª–æ–≤)
–ï—Å–ª–∏ —Ç—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ —É —Ç–µ–±—è 100 —Ñ–∞–π–ª–æ–≤, –ø—Ä–æ—Å—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ 1 –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
total_files = 100
for i, file in enumerate(files):
    process_file(file)
    progress = int((i + 1) / total_files * 100)
    self.progress.emit(progress)
2Ô∏è‚É£ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤)
–ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ, –º–æ–∂–Ω–æ:

–°–Ω–∞—á–∞–ª–∞ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (len(files))
–ó–∞—Ç–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —à–∞–≥ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–±–∞—Ä–∞.
python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
files = get_all_files(directory)  # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
total_files = len(files)

for i, file in enumerate(files):
    process_file(file)
    progress = int((i + 1) / total_files * 100)  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç
    self.progress.emit(progress)
3Ô∏è‚É£ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Å–∞–º–∏
–ï—Å–ª–∏ —É —Ç–µ–±—è —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞), –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤–µ—Å –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
steps = {
    "–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã": 20,
    "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤": 50,
    "–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö": 30
}

self.progress.emit(0)  # –ù–∞—á–∏–Ω–∞–µ–º —Å 0%

create_structure()
self.progress.emit(steps["–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã"])

copy_files()
self.progress.emit(steps["–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã"] + steps["–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤"])

process_data()
self.progress.emit(100)  # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ setMaximum()
–ï—Å–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞–µ—à—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å setMaximum(total_steps) –∏ –ø—Ä–∏–±–∞–≤–ª—è—Ç—å +1 –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ:

python
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
self.progress_bar.setMaximum(total_files)
for i, file in enumerate(files):
    process_file(file)
    self.progress_bar.setValue(i + 1)
–í—ã–≤–æ–¥:
–ï—Å–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –∏–∑–≤–µ—Å—Ç–Ω–æ ‚Üí –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∏ —Ç–µ–∫—É—â–∏–π —à–∞–≥ –Ω–∞ –æ–±—â–µ–µ —á–∏—Å–ª–æ.
–ï—Å–ª–∏ —à–∞–≥–∏ —Ä–∞–∑–Ω—ã–µ ‚Üí –∑–∞–¥–∞–π –≤–µ—Å –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.
–ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ ‚Üí –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–π –∏—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.